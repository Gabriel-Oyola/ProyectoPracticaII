@page "/login"
@using ProyectoPracticaII.Client.Models;
@inject HttpClient http
@inject IHttpService Ihttp
@inject NavigationManager NavigatorManager



<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>IniciarSesion</title>
    @*<link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />*@

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link href="css/Login.css" rel="stylesheet" />
    @*<link href="MOTORED2.Client.styles.css" rel="stylesheet" />*@
    @* <link href="Views/Inicio/Registrarse.css" rel="stylesheet" />*@
    

        <style >
        html {
            height: 100%;
        }

        html, body {
            background-color: gray;
            flex-direction: column;
            min-height: 100%;
        }
    </style>

    

</head>


<body>
      <h1 style="text-align:center">Motored</h1>
  
    <Section class="Form-Registro">
        <h4> Login</h4>
        <EditForm Model="NuevoUsuario">
          

            <label>Correo</label>
            <InputText @bind-Value=NuevoUsuario.Correo style=" width: 100%;
    background: #000; padding:10px; border-radius:4px; margin-bottom: 16px; border: 1px solid #bd0003; font-size:18px; color: white;"></InputText>
            <label>Clave</label>
            <InputText @bind-Value=NuevoUsuario.Clave style=" width: 100%;
    background: #000; padding:10px; border-radius:4px; margin-bottom: 16px; border: 1px solid #bd0003; font-size:18px; color: white;"></InputText>



            <button class="btnC" @onclick="(()=>CrearUsuario(NuevoUsuario))">Entrar</button>




        </EditForm>
    </Section>
    <br />
    <br />
    <br />
    <br />

    <br />
    <br />
    <br />

    <footer>
        <p> Motored &copy;. Todos los derechos reservados</p>
    </footer>
</body>


</html>


@code {
    Usuario NuevoUsuario = new Usuario();

    public async Task CrearUsuario(Usuario usuario)
    {
        var resultado = await Ihttp.Post<Usuario>("api/Logueo", NuevoUsuario);
        if (resultado.Error)
        {
            var body = resultado.HttpResponseMessage;

        }
        NavigatorManager.NavigateTo("/");
    }


}
