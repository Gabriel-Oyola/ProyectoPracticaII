@using ProyectoPracticaII.Client.Models;
@inject HttpClient http
@inject IHttpService Ihttp
@inject NavigationManager NavigatorManager

<EditForm Model="moto">

    <label>Marca</label>
    <InputText @bind-Value=moto.Marca> </InputText>
    <label>Modelo</label>
    <InputText @bind-Value=moto.Modelo>Modelo</InputText>
    <label>Año</label>
    <InputNumber @bind-Value=moto.Año>Año</InputNumber>
    <label>Patente</label>
    <InputText @bind-Value=moto.Patente>Patente</InputText>
    <label>Aseguradora</label>
    <InputText @bind-Value=moto.Aseguradora>Aseguradora</InputText>

    <button @onclick="(()=>ActualizarMoto(moto))">Actualizar</button>
    <button class="btn btn-secondary" @onclick="onCancel"> Cancelar</button>
</EditForm>
@code {

    [Parameter] public Motocicleta moto { get; set; }
    [Parameter] public EventCallback onValidSubmit { get; set; }
    [Parameter] public EventCallback onCancel { get; set; }



    public async Task ActualizarMoto(Motocicleta motocicleta)
    {
        var result = await Ihttp.Put($"api/Motocicleta/{motocicleta.IdMoto}", moto);
        NavigatorManager.NavigateTo($"/PMotocicletas/ListaMotocicletas/{moto.IdUsuario}");
    }
}
